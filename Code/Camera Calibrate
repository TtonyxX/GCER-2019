#include <kipr/botball.h>
int burning_building = 1; 
#define yellow 0
#define red 1
int main()
{
    camera_open_black();  
    printf("scan start\n");
    camera_update();
    msleep(50);
    camera_update();
    msleep(50);
    camera_update();
    msleep(50);
    printf("yellow objects: %d \n", get_object_count(yellow));
    printf("red objects: %d \n", get_object_count(red));
    int i;
    if(get_object_count(yellow) > 0){
        for(i = get_object_count(yellow); i > 0; i--){
            printf("yellow object: %d \n", i);
            printf("yellow object area: %d \n", get_object_area(yellow, i));  
            if(get_object_area(yellow, i) > 700 && get_object_area(yellow, i) < 1600){
                burning_building = 0; 
                printf("burning building is close\n");
            }
        }
    }
    camera_update();
    msleep(50);
    camera_update();
    msleep(50);
    camera_update();
    msleep(50);
    int x;
    if(get_object_count(red) > 0){
        for(x = get_object_count(red); x > 0; i--){
            printf("red object: %d \n", i);
            printf("red object area: %d \n", get_object_area(red, i));  
            if(get_object_area(red, i) > 700 && get_object_area(red, i) < 1600){
                burning_building = 0; 
                printf("burning building is close\n");
            }
        }
    }
    printf("burning building is: %d ", burning_building); 
    camera_close();
    printf("scan done\n");
    return 0;
}
